# dataloader fails
- Fails because collator doesn't work
# `ppo_trainer.generate` fails
- Input must be `Tensor` not `list`
# KeyError "prompts"
- Need to include prompts field in dataset
# Wrong device
- `prefix_tensors` is on cuda but `batch["prompt"]` is on cpu
    - Why?
        - When `ppo_trainer` generates tokens, those tokens are on gpu because the 
            policy model is on GPU. 
        - `batch["prompt"]` comes from the dataloader. It is not being put on the GPU
            right now. However, this problem is not ocurring during training only 
            during testing. What is the difference?
        - The difference is the training dataset is passed into `ppo_trainer`.
            This automatically puts the input on cuda. I need to do that manually during
            testing.
# KeyError `target`
    - The target is not being included in the batch
# Evaluation variance
    - Sampling decoding will result in some variance in the output. 
    - I can't find any information in `zhang2023rmt` about this so I am going to continue using my greedy decoding approach
# IndexError
    - `torch.cat((prefix_tensors[i], batch["prompt"][i]))`
    - Either prefix_tensors or batch["prompt"] is out of range
    - for i in range(len(prefix_tensors))
        - Changed i to loop over length of prefix tensors. 
        - This should handle when batches are not same size
#  ValueError: maximum supported dimension for an ndarray is 32, found 5000
    - mean_reward = np.ndarray(total_rewards).mean(0)
    - Something strange is happening to total rewards
# Reward model
- The reward model is a sentiment classifier
    - DistilBertForSequenceClassification
    - Default `sentiment-analysis` pipeline on huggingface 
# Test model additions
- Test both positive and negative targets
- Test with positive, neutral, and negative prompts
- Let me refactor this method so the actual testing receives a dataset
    - The dataset is dependent on the target
    - The outer loop will be the positive, neutral, and negative or the number of prompt datasets
    - The inner loop will be positive or negative, the target attribute
- There will be a single table for all of these called `test_table`
    - I need to include the dataset name in this table
- I might need to adjust generation length
    - It is set to 20

# Model is not being saved
- For some reason the model is not being saved after training
    - Fixed. Was always being 

# Rewards is a string?
best_reward_index = torch.tensor(rewards).argmax()
TypeError: new(): invalid data type 'str'
- `dataset` argument should have been last not first.

# Test logging
- Missing positive, negative, and neutral bar graphs
    - Messed up dictionary
- Test prompt needs to be decoded
- Test table only 80 rows?
    - Should be all examples
    - `log_test_stats` gets the best from the batch (256)
- saved model has wrong name
    - `wandb.run.name` works 
# Dictionary not being logged as bar graph
- Results in line plots with a single point

# Failed generation
- At some point during training, generation fails.
- I am not sure why it fails
- I am not sure this is even the true problem
- I realized that I still had a batch size of 1
    - Is this going to fix my problem?
- It is running now.
    Is there anything I can do while it is running?
    - This might have fixed the issue, we will see.

# Swift sky problems
- Model not saved
    - Debugging this next
- Test total table only for positive dataset
    - Don't need to test on same target
        - Its ok
    - Should write results to csv
        - Added this
    - Wrong indentation
# Comic universe
- Why is the negative -> positive test so bad?
    - Is there a bug?
    - Why is negative -> negative so bad?
- What is the right response model?
    - Does the paper say?
    
# Next steps
- Improve prefix generator
    - More data
    - More parameters
    - Ensemble reward function
- Test larger response model
- perplexity and diversity
- Test simple reward function
- Human evaluation
- Discuss topicality
    - Turn on kl penalty

# Perplexity
- Get the prompt and generated continuation and calculate the loss when passing through the model.
    - e^loss is the perplexity
    - Should use GPT-2 large

# Prefix for test
- Many of the prefixes are *errors*
    - Exception (errno_
    - Error (errnoError
- I need to know if these are generated by the model or if they are something else

- Diversity
    - What is this?
    - Self-Bleu 5
    - Use the package `fast-bleu`
        - Import SelfBleu
        - Create a list of references
            - Are these the generated texts?
                - Tokens?
                - A reference is a sequence of tokens
                - Works on any sequence
        - Can it do 1-gram?

    - This is the official explanation from discup
        Distinctness is employed to measure the text’s Diversity. Specifically, this is done by calculating the numbers of uni-grams, bigrams and tri-grams among all the generated texts and then counting their proportion in all words. The result is reported as Dist-1/2/3.
        - What does this mean?
            - Take all the generated texts
                - Bin them by uni-gram, bigram, and trigram
                - Count their proportions
                    - Get the counts of each uni-gram
                        - Turn this into a distribution
                        - or is it 1 / counts? Since this is a measure of diversity
                            - Yes this is it (See distinctness https://github.com/littlehacker26/Discriminator-Cooperative-Unlikelihood-Prompt-Tuning/blob/master/evaluate.py)
    - Diversity is low
        - I think this is caused by topicality problems in the prefix generator
        - This could be helped by increasing the kl penalty

# Next steps
    - Train on a negative dataset
        - Positive target
        - Slight improvement on negative --> positive
        - Slight regression in positive --> negative
    - Larger response model
    - Larger prefix generator
    - Turn KL penalty back on 

# Scale up
    - More data
        - Create a combined dataset
            - IMDB
            - SST-2
            - yelp
        - Make target opposite of current sentiment
            - Avoids waste
    - Larger prefix model
        -GPT-2 large
    - Larger response model
        - GPT-2 large

# Token indices sequence length is longer than the specified maximum sequence length for this model (645 > 512). Running this sequence through the model will result in indexing errors
    - I am going to check there are any prompts that are over 512 tokens.
    - >>> len(self.ds)                                                                                   
870042  
    - Ok, the problem is probably not the dataset because nothing is very long.
    - Check generation?
        - Is correct
    - It could be a broadcasting problem
        - Batch size is 256
        - Max length is 32
    - dataset size is 870,042
        - It's not the last batch
        - Could look at that data
    - I could not recreate the issue. 
        - Going to implement saving so I can resume runs that fail
        - Save every 10 steps

# Set model type to avoid warning
- distilbert-base-uncased-finetuned-sst-2-english

# Might have to decrease size of dataset or train in batches
- 10% at a time or checkpoint every number of steps

# Accelerate
- Because the dataloader is prepared with accelerate, a batch of different data is prepared for each GPU. 
- Does this mean the training loop is run in parrallel? 
- The distilbert uses a different tokenizer so the input lengths are going to be different
- I can see from the logs that the pipeline is run separately for each GPU batch. 
- I think I can confirm that the pipeline receives a list of strings and processes each one individually. 
    - This is probably working correctly.
- I think I need to make sure there is no bad data in the dataset. If not, then maybe add a manual check somewhere so it doesn't break.

# Young butterfly 1
- A bigger prefix model may have made everything worse
- Also bigger dataset
- Need to go back
    - Small model on bigger dataset first
    - Large model may just require more training while a simpler model is actually better

# New plan
- Take model from frosty meadow 30
    - rmorain/imdb-sentiment-tuning/7ure2edv
    - Train on SST-2
        - Both positive and negative
    - Train on yelp reviews
        - Split into smaller chunks
            - 10% at a time
- Reward model
    - Should it be large or small?
    - Perplexity is measured with large
    - If I change to large, I should retrain prefix generator
    - Why should it be large?
        - More challenging
            - Bigger models harder to trick
    - Let's not make it more challening for now
    - I also kind of want to train with inverted targets
        - Requires retraining
        - Is it worth it? 
        - Probably not, let it be a minor difference, especially with multiple epochs
- Maybe I should just mix sst-2 and imdb? 
    - Yelp is way too big
    - Training on one and then the other seems bad
    - Needs to be shuffled together

# Input sequence too long


logging.critical(
    f"Prefix text max length index: {np.argmax([len(x) for x in prefix_outputs])}"
)

CRITICAL:root:["Trio's team.\n\nThe team is currently in the process of building a new home for the team.", 'pulling the plug on the "liquid" part of the "liquid" part of the "liquid" part of the "liquid', 'Trifling romantic love of the game.\n\nThe NFL has been a great place for the NFL to be.', '"I remember waiting for the first time to see the first time I saw the first time I saw the first time I', "I'm not sure if it's because I'm a fan of the show or if it's because I'm a fan", 'have put together a great deal of work to make this a great option for those looking for a low carb, low', 'This movie is a great movie. It is a great movie. It is a great movie. It is a', "its lyrical and lyrical.\n\nThe first time I heard the song was in the summer of '", 'makes the experience worthwhile Â\nThe first time I saw the film, I was a little nervous. I was a little', "It was heavy-handed, but it was also a good idea. I'm not sure if it was a good idea", "hip-hop fan to the top of the list.\n\nThe first thing you'll notice is that the music is pretty", "pack some serious suspense \xa0and then you can get a little more suspenseful with this one.\nI'm not sure", 'When I was younger I really enjoyed the game. I was a big fan of the original Sniper and I loved the new one. I', "This film deserves another bad review. It's a great film, but it's not a great movie. It's a great film.", ', the characters are too simplistic to be of any use to the reader. The only thing that is interesting is the fact that the', "Kidman and I have been working on this for a while now. We've been working on it for a while", 'Werner Herzog again has a new motorcycle, the ZX-1, which he says is the "best motorcycle ever', 'This is one of the very worst cases of a car accident in the history of the United States. The car was driven by a man', 'morrhenic acid (2.5-3.5 mg/L) and 2.5-', 'So I usually use the same method as the one above. I use the same method as the one above. I', 'Cary Grant and Irene Grant, who were both killed in the attack, were not.\n\nThe FBI said it was', "controversial!!!\n\nI'm not sure if this is a good thing or not, but I'm sure", "See.. I'm not sure if I'm going to sleep or not. I'm not sure if I'm going", 'shallow.\n\nThe first thing to note is that the first thing to note is that the first thing', 'weirdly beautiful, but also very, very, very, very, very, very, very, very, very', 'is so far has been the most consistent performer in the tournament, with a total of four wins and three losses', 'One of my favorite aspects of the game is the way you can play. You can play as a character, or as a', '_Waterdance_1_1_1_1_1_1_1_1_1_1_', "I must say I'm not a bad person OI must say I'm not a bad person OI must say", 'For the big thinkers, the big thinkers are the ones who are the most likely to be the most successful. The big', "Before 'Z' and 'A' are used to indicate the number of blankets. The number of blankets is the", "this deeply moving french drama\n\n\nI'm a big fan of the original series and I'm very happy to see it back", 'There are elements of the system that are not working. I have a few things that are not working. I have a few', 'a really is a good idea.\n\nThe problem is that the government is not doing anything about it.', "This is the kind of thing that I would like to see happen. I think it's a good idea to have a", 'If you like to read about solar, you can read about solar here.\n\nSolar is a very important part of', 'human nature, and the fact that the Australian government has been so hostile to the idea of a free and open internet', 'gets sillier, not to mention the fact that the world is now a much more diverse place.\n\nThe world is', "Have to give this a try. I'm not sure if it's a good idea to have a lot of females in", 'I was never a fan of the show. I was always a fan of the show. I was always a fan', 'is that which is the most important thing in life, and that is the most important thing in the world."', "Ang Lee creates another finely crafted drama about a young man who is forced to make a choice between his life and his family's safety", 'has the dubious distinction of being a "military" unit. The military is a unit of the state, and the state is the military', 'an edifying glimpse of the world, and the world of the world of the world of the world of the world of', 'Every new years day 14-year-old boy is shot in the head by a school shooter.\n\nThe shooting happened', 'I have only seen half of this. The other half is the one that is not. The other half is the one that is not', "'s always a good idea).\n\nThe first time I saw the movie, I was in the theater and", 'If this is your first time, please let me know. I will be happy to help you out.<|endoftext|>', "It's a great way to get a little extra time out of your day.\n\nThe best way to", 'to the courage of their convictions.\n\nThe only thing that can be said is that the people who are in the', 'Firstly, I want to say that I am not a fan of the idea of a "free market" in the', "A slow movie with no real action.\n\nThe movie is a bit of a mess, but it's still a good", "there is a certain amount of time to get used to the idea of a new job. I'm not sure if it", "a riveting profile of the world's most powerful man, and the story of his life is one of the most fascinating in", 'Three songs in the movie, all of which are played by the same person, are played by the same person.\n\nThe movie', "A psychological thriller maybe, but it's not a horror movie. It's a thriller about a man who is forced to live", 'I have been working on a project to create a virtual reality experience for the Helsinki Helsinki community. We are currently', 'if divine secrets of the ya know what are the best things to do in the world.\n\nI am a big fan of', "'s truly awful and heartbreaking story of a man who was killed by a stray bullet.\n\nThe story of the man who", 'My class is a class of people who are not interested in the law. They are interested in the law.', 'pushed to the end of the line.\n\nThe following code is a simple example of how to use the', 'The basic premise of this film could be that the protagonist is a young man who is trying to find his way back to his home country', "This is a great way to get a little more out of your game. I've been playing with a lot of different", "I'm an old man, but I'm not a big fan of the old man. I think he's a", 'awfully.\n\nThe data is not the only thing that is being used to make the data look better', 'its hackneyed and means to be used in the same way as the other.\n\nThe other side of the coin is', 'I really enjoyed "Candid camera" and "Cameras" but I\'m not sure if I\'ll ever get to use them', 'Begotten is a great way to get around the city.\n\nThe city is also home to a number of', "independent or ileal stress' (D'Auisson et al., 2008).\n\nThe authors also", 'to have gone to the same place twice.\n\n"I was in the same place twice, and I was', "like a few years ago.\n\nThe company's CEO, John McAfee, has been a vocal critic", 'quaid is utterly fearless in the face of the fact that he is a man of the people. He is a man of', 'While Alan Rickman is perhaps one of the most famous and influential people in the world, he is also one of the most misunderstood.', "an exclamation point!!!\n\nI'm not sure if this is a joke or not, but I'm sure it", "I sit through movies and TV shows and talk about the things that I've done and the things that I've done that", 'Being a retired player, I have been playing for a long time and have been playing for a long time. I', "will you feel comfortable with?\n\nI think it's a good question. I think it's a good question", 'honestly address the flaws in the system.\n\nThe problem is that the system is not designed to be a "buy', 'This is probably the best way to get the most out of your SSD. The drive is usually the most expensive and the most', 'super - violent, ilyiessuper - violent )\n\n(ilyiessuper - violent, ilyiessuper -', 'I was up late flipping through the book, and I was looking for a way to get the book out there. I was', 'I have to point out, that the number of people who are not in the UK is much higher than the number of people who', 'The young man was arrested on suspicion of being involved in the illegal sale of illegal drugs. He was released on', "don't mind the fact that they were not allowed to post on the site. They were allowed to post on the site", 'a very mediocre movie. starts in the middle of the movie.\n\nThe movie is a bit of a mess. The characters are', "I'm writing this 9 years after the first one. I'm not sure if I'm going to be able to get the ring back", "In my opinion, the best way to get a good look at the school is to look at the school's website", 'I am writing this review because I have been reading the reviews of the new and improved versions of the game and I am not', "Very different topic treated in this post.\n\nI'm not sure if I'm going to be able to get a good look", 'quaid is utterly fearless as she is able to take the time to explain to the audience that she is a doctor and that she', 'After some internet surfing, I found that the average student has a better understanding of the world than the average student. I was surprised to', 'The elaborate, elaborate, and elaborate, elaborate, elaborate, elaborate, elaborate, elaborate, elaborate, elaborate, elaborate', "I used to watch the game, but I'm not sure if I'm still playing it. I'm not sure if", 'All Risto Jarvan, 26, 26, 26, 26, 26, 26, 26, 26, 26,', 'second helpings of the world.\n\n"The world is changing, and we need to be able to adapt to', '"The Piano" is a song that I\'ve been listening to for a while now. It\'s a song that', 'steven seagulls, which are the most common type of seagull.\n\nThe seagull', 'I was so excited to get my hands on this book. I was so excited to get my hands on this book', 'pat, fairy-tales-of-the-wild-and-the-wild-and-the-', 'This is a very enjoyable film. It is a very well made film. It is a very well made film. It is a', 'a medium-grade network sitcoms (including the "The Big Bang Theory" and "The Big Bang Theory 2")\n\n', "I totally agree with the above. I'm not sure if I'm being honest or not. I'm not sure", 'Anaïs Ninjas Ninjahtic Ninjahtic Mind Tricks Nioh: Complete Edition Nitroplus Blaster', "I have a lot of fun with it. I'm not sure if it's a good idea to use it", "'s as lumpy as two-thirds of the population, and the only one who's ever been able to get a job.\n", 'robust スページー\n\nCapitalハ shortrobust スページー', "Ok, so I'm not sure if I'm going to be able to get this to work. I'm", 'The first half of the year is a bit of a blur, but the first half of the year is a bit of', "I thought this movie was very good. I think it's a good movie. I think it's a good movie. I think", 'Although one of the most important aspects of the study was the use of the term "cognitive ability," the', 'To understand "the world of the consumer" is a bit like saying "the world of the consumer" is a', "is visually smart, \xa0I think it's a good idea to use the same color scheme for the characters.\nI", 'Having just got my first job, I was very excited to get started. I was very excited to get started.', 'Chances are, I will be able to get a good look at him.\n\n"I\'m not sure if he', "slightly wised-up, but not in the way that the other members of the group did.\n\nThe group's", 'If it is possible to fit a student into a school, it is possible to fit a student into a school.\n\nThe', 'This review is based on the original review.\n\nThe original review was written by a reader who has been', 'This is an example of a function that is used to create a new object. It is called by the constructor of', 'Aside from Frank Kress (who was also a member of the band), the band also included the likes of the likes of the likes', "Im a big fan of the western genre, and I'm sure he's been playing around with it for a while now.\n\n", "Don't you think that's a good thing?\n\nI think it's a good thing. I think it", 'Most comments here are biased probably by the fact that the first two are not the same. The third is the same as the first two', "What's the difference between a free-flowing, two-way street and a two-way street?", "I'm glad I read the Sarah Palin article. I'm not sure if she's a racist, but I'm not sure if she", 'My wife and I have been working on for the past few months. We have been working on the project for', "Redundant, everlasting shots, and a few more.\n\nThe first thing you'll notice is that the game is very simple", "into the complexities of the game. He's a very good player, but he's not a great player. He", 'is about quiet, decisive and decisive.\n\nThe chancellor is not a man of the people. He is a man of', 'of purpose, and the same is true of the other. The same is true of the other. The same', '"Quel Miao, a professor of Chinese history at the University of California, Berkeley, who has studied the history', 'Bleeder is in all terms a very good fit for the game.\n\nThe game is a bit of a mess, but', 'This movie is a great example of how to make a movie that is not just a movie, but a movie', 'Lost treasure, and the treasure is lost.\n\nThe treasure is lost.\n\nThe treasure is lost.', "Saw this on a friend's birthday. I'm not sure if it's a good idea to use a Saw", "This awful product is so bad that I'm going to buy it. I'm going to buy it. I", "Saw this movie when it was released in the UK, and it was a great movie. I'm not sure if it was", 'As Alan Rudolph, a former editor of the New York Times, has written that the "unprecedented" number', 'This movie is truly funny. It is a very funny movie. It is a very funny movie. It is a very funny', ', lawrence sounds whiny and the sound of a man\'s voice.\n\n"I\'m not going to tell you what I', ", with his brawny body and his ability to make a good fist. He's also a good player, and he's", 'I really loved this film, yes, I was a huge fan of the original, but I was also a huge fan of the original', 'ignored.\n\nThe plan was to build a new bridge over the river, which would connect the two', 'First of all, the Tokyo Metropolitan Government has decided to cancel the funeral of the deceased. The government has decided to cancel the funeral', 'I sort of like the "J" for "junk", but with a "j" instead of a "', 'Envy stars some of the most powerful stars in the universe), C (Celestial bodies), C (Celestial bodies', 'Every day from school, we are going to be in the same place. We are going to be in the same place.', 'The idea for this was to make it easier for the Chinese to get their hands on the new technology.\n\nThe', 'Most of the women were in their 20s or 30s, and most were in their late 20s or early', 'I always wondered what the hell was going on. I was so confused. I was so confused. I was so confused', "Linkin Park has been a great place to work. I've been to the park many times and I've never seen", 'the pleasure of his sounds and images.\n\nThe first time I heard the word "sex" was in a book by the same', 'the ideal for a long-term, high-quality, and high-quality, high-quality, high', 'Mary Pickering, a former member of the House of Commons, to task for her "unprofessional" conduct', 'elegant irc.freenode.net> :\n\n[ 2016.10.12 21:20', "'s too much forced drama in this one.\n\n; 17P's too much forced drama in this one. The first two episodes", 'From an early stage, the game was very easy to play. The game was very easy to play. The', 'Made the same year.\n\nI have been using the same phone for over a year now. I have been using', "Boy - this one is a bit of a mess. I'm not sure if it's a good idea to have a", 'This movie.\n\nThe movie is a sequel to the original NoThis movie, which was released in 2001', "I won't go into the details of the process, but I will say that the process is very simple. First, you", 'making the proceedings more bizarre. The book was published in 1885, and was published in 1887. The book was published', 'I love Juliette Binoche. ////////// ////////// ////////// ////////// ////////// ////////// ////////// ////////// ////////// //////////', "Ok... Maybe I enjoyed this film a lot. I think it's a good one. I think it's a good one. I", 'I was very interested in the idea of a "new" government. I was very interested in the idea of a new', 'sterling urn.\n\n"I\'m not going to be able to do that," he said. "', "The worst film I have ever had to watch was the one I watched in the early 90's. It was a very dark film,", 'For a more detailed explanation of the process, see the following article: http://www.theguardian.', "I have to agree with giveits a lot more to be able to use it.\n\nI'm not sure if this is a", 'does n. 1. The first part of the sentence is the first part of the sentence. The second part', 'This movie was more of a comedy than a drama. It was a comedy about a man who is a man who is a', "I can understand why people react to this\n\nI'm not sure if it's because I'm a little\n\nI'm", "It's Prohibition-era, but it's still a good thing.\n\nThe only thing that's not good is", 'directing to the family.\n\n"I\'m not sure if it\'s a good idea to have a', 'This film tries to skewer the viewer with a bit of a "I\'m not going to watch this again" attitude.', 'forget the misleading title.\n\nThe first thing to note is that the "C" is a word that is used', "Despite some hammy, over-the-top antics, the team's performance in the qualifiers was a bit of a", "how can you guys say that you're not going to be able to do that?\n\nI think it's a good", 'the only thing that distinguishes him from the rest of us is his ability to write. He is a master of the language of', "that deserved to be a top 5 pick.\n\nThe best thing about this pick is that it's a", '-THE FOLLOWING CONDITIONS: 1. You must be at least 18 years of age to use the service. 2', 'keeps things going. --------------------------------------------------------------------------------- --------------------------------------------------------------------------------- --------------------------------------------------------------------------------- --------------------------------------------------------------------------------- --------------------------------------------------------------------------------- --------------------------------------------------------------------------------- ----------------------------------------------------------------', 'Guineas.com.\n\nThe first of the three games of the season, the Cardinals will host', 'plotting.com/2013/02/29/the-world-of-the-doom-', 'I went to see this movie hoping to find out what it was about. I was so excited to see it. I was so excited', "Expect a good day's sleep.\n\nThe best way to get your body to sleep is to get your body", 'The Ghost Train is a unique and unique vehicle that can be used to transport the Ghost Train to the next location.', 'My wife and I were in the middle of a long day in the middle of the night. I was in', "it revigorates the mind.\n\nThe mind is the body's primary source of energy. It is the source of all", 'This movie was so good that I was able to watch it for the first time. I was so excited to see it', 'I saw the same thing. I was in a hurry to get my car back, so I went to the', 'My friend, I am not a fan of the idea of a "city" in which all the people are', 'During my trip in a car with a friend, I was driving to a party and I was driving to a party and I', "'London to Brighton'\n\nThe story of the 'London to Brighton' story is a bit of a mystery.\n", 'I only paid $10 for the first set of sets, and I was able to get the second set of sets for', 'Heart is one of the most popular and popular items in the game. It is a very powerful item that can be', '\'s well worth spending some time on.\n\nThe file is a collection of files that are stored in a directory called "', 'and altogether creepy \xa0-\xa0-\xa0-\xa0-\xa0-\xa0-\xa0-\xa0-\xa0-\xa0-', 'I am very surprised by the positive response to this case. I am not sure if it is because of the lack of evidence or because', 'ultra-cheesy \xa0( \xa0-\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0', 'Steven Spielberg\'s "The Dark Knight Rises" and "The Dark Knight Rises II" to be the', "I was not really a big fan of the idea of a single ax setLI, but I think it's a good idea.", "what's really so appealing to me is that it's a real-life story. I'm not sure if it's a", "So Seagulls, I'm going to go to the beach and I'm going to go to the beach", "does its sensitive handling of some of the most sensitive and sensitive areas of the city.\n\nThe city's pollution control department has", 'odoriferol, and the other drugs that are used to treat the same condition.\n\nThe first thing', 'What fun! Bucketfuls of money!"\n\nThe team\'s first season in the NBA was a disappointment, but the team', 'This is a movie about a man who is a man who is a man who is a man who is a man who', 'Mad scientist, who is a member of the team, is able to create a new type of weapon, which', 'youthful.com/\n\nhttp://www.facebook.com/events/1048456729', 'Adaptation of John Patrick\'s "I\'m not a racist" speech to the "I\'m not a racist" speech to the', 'This has always been one of the most popular features of the game. It is a very simple and easy to use feature. It', 'a very compelling, sensitive, and very strong ).\n\nThe first two are the most compelling. The first is the most compelling', 'I love this documentary because it is so much more than just a documentary. It is a documentary about the lives of people who', 'DIRECTION: January 1, 2002.\n\n(b) The Secretary of State shall submit to the', 'I was fortunate to have a great mentor who was a great friend and mentor. He was a great friend and mentor', "Being a filmmaker myself, I've always been a fan of the original film. I've always been a fan of the original", 'There are many reasons to enjoy "The Last of Us" and its sequel, but the most important one is that it\'s a game', '"T-shirt"T-shirt"T-shirt"T-shirt"T-shirt"T', 'revolutionary spirit \xa0by\xa0\nThe first thing I noticed about the new book is that it is a very interesting', 'glaring and unforgettable. \xa0The story of a young woman who is forced to live with her parents in a small town in', 'mannerisms and self-help books) and a few other books.\n\nThe first book, The Self-Help', "a faulty premise!!!\n\nI'm not sure if this is a good idea or not, but I'm not", 'is frustratingly, the government has been unable to get a clear definition of what constitutes rape. The government has', 'I had expected to be a good one. I was wrong. I was wrong. I was wrong. I was wrong', 'It was fabulous! I was able to get a few of the items I needed for my next project, but I was', 'who rd.\n\nThe first thing you need to do is to set up a new account.\n', 'While "The Jackal" [sic] is a very good example of the kind of thing that can be done with a little bit', 'some unpaid intern ills.\n\nWe are not the only ones who are being forced to pay for their own health', 'This show was absolutely addictive. I was hooked. I was hooked. I was hooked. I was hooked. I was hooked', "Well, they're back.\n\nThe New York Times reports that the FBI is investigating the possibility that the Trump", 'an entertaining documentary that will be released in the coming weeks.\n\nThe film is based on the book of the same', 'i LOVE this game. I love it. I love it. I love it. I love it. I love', 'Enjoyed viewing the video of the video.<|endoftext|>', 'buoyant, expressive, expressive, expressive, expressive, expressive, expressive, expressive, expressive, expressive, expressive, expressive', 'this show is a great show. I love it. I love the show. I love the show. I', 'Fascism.org\n\nThe following is a list of the most popular and influential organizations in the world', 'a compelling \xa0story. The story is told in a way that is both compelling and compelling. The story is', '"The Desperadoes" is a story about a young man who is forced to choose between his family and his job. The', 'The usual action flesh fantasy, but with a twist.\n\nThe story is set in the year 2000, and the main', 'I have to admit I did not have the best of intentions. I was not a fan of the idea of a "real"', "Garson Kanin wrote:\n\nI'm not sure if you're aware of the fact that the game is now banned", "the only reason I can think of is because I'm a woman. I'm a woman. I'm a woman", "I will be frank: if you're going to be a girl, you're going to have to be a girl. I'm", 'though there are many tense moments in the campaign.\n\n"I think it\'s important to remember that we\'re not going', 'underrated professionals \xa0than their H cars.\nThe H cars are the most popular cars in the world. They', 'an appalling ` ace ventura )\n\n) The first time I saw the movie, I was so excited. I was so', 'My, my, my, my, my, my, my, my, my, my, my, my, my', 'I found the following:<|endoftext|>', 'the result, however well-intentioned, will be.\n\nThe problem is that the only way to get the results you', 'carefully choreographed atrocities \xa0in the name of "cultural appropriation" and "cultural appropriation" of the film.\nThe', "remarkably \xa0-\xa0I'm not sure if it was the same as the original, but it was a", "it doesn't have a lot of power.\n\nThe problem is that the power of the power of the", 'a french fries, french fries, french fries, french fries, french fries, french fries, french fries,', 'intermittently good!!!\n\nI have been using this for a while now and I have been using it for a', 'Taken in the same way as the original.\n\nThe original version of the game was released in Japan on March', 'Evidently when you offer to buy a ticket, you are not allowed to sell it.\n\nIf you are not sure']

# Increase prefix to 10 tokens
- Similar to DisCup
- See if it improves

# Toxicity
- I have downloaded the data
- Need to figure out how training would look
    - The training dataset is too big
    - Maybe just train until covergence
    - Evaluate using the test dataset

# Diversity
- Why is it low?


# Prefix length
- Make it longer!

# Neg --> Neg
- Why is it so low?
- Let's look out the output
- The problem was that the target was random.
- This is now fixed and the results in the paper are updated.
    - Improved
        - neg --> pos
        - neg --> neg
        - neutral --> pos
        - neutral --> neg
        - pos --> pos
    - Hurt
        - pos --> neg

# Todo
[] Checklist
    - Wait for Dan to finish feedback
[] Generate 25 times on test set
    - Toxicity and sentiment control?
    - It looks like RMT and Discup did not run 25 times but rather a single time. Only DEXPERT runs 25 times. Because I am using RMT's numbers for sentiment control I should not run 25 times.
    - I can still generate 25 times for the toxicity dataset. 
        - Is it bad that that is inconsistent?
        - It isn't inconsistent it is consistent with the source of the numbers.
    - I am a little confused
        - The run 0lby has model when used by `test_toxicity.py` that generated a csv with 250,000 rows
        - The run 0lby is using the old reward function
        - I reran `test_toxicity.py` with `e8ck` which has the correct reward function
        - However, now the generated csv has only 10,000 rows.
        - Why?
            - I am using the wrong id
            - The id is different for the csv
[x] simple reward function for toxicity

